<!doctype html>
<html>
  <head>
    <title>Installing LogMeIn Hamachi on Ubuntu 16.04 or any distribution with systemd</title>
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="description" content="A guide on how to install Hamachi on Ubuntu 16.04 or any distribution with systemd since the original install doesn't work any more.">
    <meta name="author" content="Amish Naidu">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" type="image/png" href="../favicon.png">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,300">
  </head>
  <body>
    <div id="header">
      <h1>
        Amish Naidu
      </h1>
      <div id="subtext">
        amhndu.github.io
      </div>
      <div id="navbar">
        <ul>
          <li><a href="../index.html">Home</a></li>
          <li><a href="../projects.html">Projects</a></li>
          <li><a href="../articles.html" id="selected">Articles</a></li>
        </ul>
      </div>
    </div>
    <div id="content">
    <h2>Installing LogMeIn Hamachi on Ubuntu 16.04 or any distribution with systemd</h2>
    Since Ubuntu 16.04, Hamachi, the no-setup VPN solution couldn't be installed because the <span class="inline-pre">lsb-core</span> package has been <a href="https://lwn.net/Articles/658809/">removed</a> from the repositories. Hamachi depends on a script included in the aforementioned package to install an init script which launches the Hamachi daemon during bootup. <br/>After countless hours, I finally found a solution by using the Arch User Repository's hamachi package which uses a systemd unit file.
    <h3>Procedure</h3>
    <ol>
    <li>First, download the official archive (the tgz file) depending on your architecture from <a href="https://secure.logmein.com/labs/#HamachiforLinux">LogMeIn</a></li>
    <li>Extract it somewhere</li>
    <li>The package maintainers at <a href="https://aur.archlinux.org/packages/logmein-hamachi/">AUR</a> have written a systemd service file, which we would install, download it from <a href="systemd">here</a>.</li>
    <li>Copy the file <span class="inline-pre">systemd</span> from above into the directory you extracted Hamachi from step 2.</li>
    <li>Now download <a href="install-mod.sh">this</a> modified install script which is the original script with references to init config commented out and some lines added which install the systemd service file. For security reasons, you might want to read it before running as root.</li>
    <li>Set the script to executable and run it as root or with sudo.</li>
    <li>To test if everything is working try these:
    <pre>
$ systemctl status hamachi
$ hamachi
</pre></li>
    </ol>
    <h3>Conclusion</h3>
    If nothing went wrong in the above steps, you now have successfully installed Hamachi!<br/>
    To start the daemon after each bootup you'd have to run:
<pre>
$ systemctl start hamachi
</pre>
    If you prefer to have the daemon start during bootup, run once:
<pre>
$ systemctl enable hamachi
</pre>
    If you are new to Hamachi for Linux, the file <span class="inline-pre">/opt/logmein-hamachi/README</span> might interest you.
    <h3>Uninstalling</h3>
    I haven't edited the uninstall script, which should be trivial enough. Just comment out all lines/blocks concerning <span class="inline-pre">install_initd</span> and either add to the script or manually remove the service file from <span class="inline-pre">/usr/lib/systemd/system/hamachi.service</span>
    <h3>References</h3>
    <ol>
      <li>Arch User Repository - logmein-hamachi<br/>
        <a href="https://aur.archlinux.org/packages/logmein-hamachi/">https://aur.archlinux.org/packages/logmein-hamachi/</a></li>
      <li>Hamachi - ArchWiki<br/>
        <a href="https://wiki.archlinux.org/index.php/hamachi">https://wiki.archlinux.org/index.php/hamachi</a></li>
    </ol>
    </div>
    <div id="footer">
      <a href="../index.html#contact">Contact Me</a><br><br>
      This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
    </div>
 </body>
</html>
